---
import { ui, defaultLang } from '../i18n/ui';

const currentLocale = Astro.currentLocale || defaultLang;
const t = ui[currentLocale as keyof typeof ui];
const isRtl = currentLocale === 'ar';

const faqs = [
  { q: t['faq.q1'], a: t['faq.a1'] },
  { q: t['faq.q2'], a: t['faq.a2'] },
  { q: t['faq.q3'], a: t['faq.a3'] },
  { q: t['faq.q4'], a: t['faq.a4'] },
  { q: t['faq.q5'], a: t['faq.a5'] },
];
---

<section id="faq" class="py-16 md:py-24">
  <div class="container mx-auto px-4">
    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-12" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">{t['faq.title']}</h2>
        <div class="h-1.5 w-24 bg-gold mx-auto rounded-full"></div>
      </div>

      <div class="space-y-4">
        {faqs.map((faq, index) => (
          <details 
            class="group bg-black/30 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden transition-all duration-300 hover:border-gold/50"
            data-aos="fade-up"
            data-aos-delay={index * 100}
          >
            <summary class="flex items-center justify-between p-6 cursor-pointer list-none focus:outline-none">
              <h3 class={`text-lg md:text-xl font-semibold text-white group-open:text-gold transition-colors duration-300 ${isRtl ? 'text-right' : 'text-left'}`}>
                {faq.q}
              </h3>
              <div class="flex-shrink-0 ml-4 rtl:mr-4 rtl:ml-0 transition-transform duration-300 group-open:rotate-180">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </div>
            </summary>
            <div class="px-6 pb-6 text-gray-300 leading-relaxed text-lg animate-fadeIn">
              <p class={isRtl ? 'text-right' : 'text-left'}>
                {faq.a}
              </p>
            </div>
          </details>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  details summary::-webkit-details-marker {
    display: none;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .animate-fadeIn {
    animation: fadeIn 0.4s ease-out forwards;
  }
</style>
