---
import { ui, defaultLang } from '../i18n/ui';

const currentLocale = Astro.currentLocale || defaultLang;
const t = ui[currentLocale as keyof typeof ui];
const isRtl = currentLocale === 'ar';

const values = [
  { key: 'values.item5', iconIndex: 4 }, // Dedicated Service
  { key: 'values.item1', iconIndex: 0 }, // Quality
  { key: 'values.item2', iconIndex: 1 }, // Safety
  { key: 'values.item3', iconIndex: 2 }, // Transparency
  { key: 'values.item4', iconIndex: 3 }, // Innovation
];

const icons = [
  // 0: Quality (Trophy)
  `<svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>`,
  
  // 1: Safety (Shield/Heart)
  `<svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>`,
  
  // 2: Transparency (Handshake/Open)
  `<svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>`,
  
  // 3: Innovation (Lightbulb/Spark)
  `<svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>`,
  
  // 4: Service (Heart/Hands)
  `<svg xmlns="http://www.w3.org/2000/svg" class="w-full h-full" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>`,
];
---

<section class="mt-20">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16" data-aos="fade-up">
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">{t['values.title']}</h2>
      <div class="h-1 w-24 bg-gold mx-auto rounded-full"></div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto auto-rows-[minmax(280px,auto)]">
      {values.map((item, index) => {
        // Masonry/Bento Layout Logic
        const isFirst = index === 0;
        const accentColor = 'text-gold';
        
        return (
          <div 
            class={`${isFirst ? 'lg:row-span-2 md:col-span-2 lg:col-span-1 h-full' : 'col-span-1 h-80'}`}
            data-aos="fade-up"
            data-aos-delay={index * 100}
          >
            <div 
              class={`
                group relative w-full h-full overflow-hidden rounded-2xl border border-white/10 shadow-xl transition-all duration-500 hover:-translate-y-2
                bg-gradient-to-br from-gold/20 via-black/40 to-black/60
                backdrop-blur-xl
              `}
            >
                {/* Decorative Watermark Icon */}
                <div class="absolute -bottom-12 -right-12 w-48 h-48 text-white/5 transform -rotate-12 group-hover:rotate-0 group-hover:scale-110 transition-all duration-700 ease-in-out pointer-events-none z-0">
                   <Fragment set:html={icons[item.iconIndex]} />
                </div>

                {/* Diagonal Stripes Pattern */}
                <div class="absolute inset-0 opacity-[0.03] z-0" style="background-image: repeating-linear-gradient(45deg, #fff 0, #fff 1px, transparent 0, transparent 50%); background-size: 10px 10px;"></div>
                
                <div class="w-full h-full flex flex-col justify-between p-8 relative z-20">
                  {/* Top: Title */}
                  <div class="w-full flex flex-col items-start">
                    <div class="h-1 w-16 mb-6 rounded-full bg-gradient-to-r from-gold to-transparent"></div>
                    <h3 
                      class={`font-bold text-white text-start leading-tight tracking-wide drop-shadow-md ${isFirst ? 'text-4xl md:text-5xl' : 'text-3xl'}`}
                    >
                      {t[item.key as keyof typeof t]}
                    </h3>
                  </div>

                  {/* Bottom: Icon */}
                  <div class="w-full flex justify-start items-end">
                    <div class={`
                      rounded-full flex items-center justify-center bg-white/10 border border-white/20 ${accentColor} text-white backdrop-blur-md shadow-[0_8px_32px_0_rgba(0,0,0,0.36)] group-hover:scale-110 group-hover:bg-white/20 transition-all duration-500
                      ${isFirst ? 'w-24 h-24' : 'w-20 h-20'}
                    `}>
                      <div class={`${isFirst ? 'w-12 h-12' : 'w-10 h-10'} drop-shadow-lg`}>
                        <Fragment set:html={icons[item.iconIndex]} />
                      </div>
                    </div>
                  </div>
</div>
            </div>
          </div>
        );
      })}
    </div>
  </div>
</section>
